Options -MultiViews
RewriteEngine On

#Improved SEO rules
AddDefaultCharset UTF-8
DefaultLanguage en-us

Header set X-Robots-Tag "noindex, noarchive, nosnippet"
Header set Cache-Control "max-age=300, public"

<FilesMatch ".(flv|gif|jpg|jpeg|png|ico|swf|js|css|pdf)$">
	Header set Cache-Control "max-age=28800"
</FilesMatch>

#HTTP Error redirections
ErrorDocument 404 /daw/404/
RewriteRule ^404[/]?$ ./index.php?ctl=404 [L]

#Main pages
RewriteRule ^admin[/]?$ ./index.php?ctl=admin [L]
RewriteRule ^projects[/]?$ ./index.php?ctl=projects [L]

#Signin
RewriteRule ^signin[/]?$ ./index.php?ctl=signin&login=test [L]
RewriteRule ^signout[/]?$ ./index.php?ctl=signout [L]
RewriteRule ^signup[/]?$ ./index.php?ctl=signup [L]

#Errors
RewriteRule ^access[/]?$ ./index.php?ctl=access [L]
RewriteRule ^error[/]?$ ./index.php?ctl=error [L]
RewriteRule ^execution-error[/]?$ ./index.php?ctl=error&message=Action_could_not_be_executed [L]
RewriteRule ^no-action[/]?$ ./index.php?ctl=error&message=Action_is_not_available_at_the_moment [L]
RewriteRule ^not-signed-in[/]?$ ./index.php?ctl=notsigned [L]
RewriteRule ^not-user-agent[/]?$ ./index.php?ctl=notuseragent [L]

#Project Rules
RewriteRule ^projects/id/([^/]+)[/]?$ ./index.php?ctl=project&id=$1 [L]
#Tabs
RewriteRule ^projects/id/([^/]+)/([^/]+)[/]?$ ./index.php?ctl=project&id=$1&tabName=$2 [L]
#Empty params redirection
RewriteRule ^projects/id[/]?$ ./index.php?ctl=projects [L]

#Task list
RewriteRule ^projects/id/([^/]+)/tasklist/id/([^/]+)[/]?$ ./index.php?ctl=project&id=$1&element=tasks&secondaryId=$2 [L]
#Empty params redirection
RewriteRule ^projects/id/([^/]+)/tasklist[/]?$ ./index.php?ctl=project&id=$1 [L]
RewriteRule ^projects/id/([^/]+)/tasklist/id[/]?$ ./index.php?ctl=project&id=$1 [L]

#Diary
RewriteRule ^projects/id/([^/]+)/diary[/]?$ ./index.php?ctl=project&id=$1&element=diary [L]
RewriteRule ^projects/id/([^/]+)/diary/date[/]?$ ./index.php?ctl=project&id=$1&element=diary [L]
RewriteRule ^projects/id/([^/]+)/diary/date/([^/]+)[/]?$ ./index.php?ctl=project&id=$1&element=diary&date=$2 [L]